<?xml version="1.0" encoding="utf-8"?>
<edmx:Edmx xmlns:edmx="http://docs.oasis-open.org/odata/ns/edmx" Version="4.01">
  <edmx:Reference Uri="https://oasis-tcs.github.io/odata-vocabularies/vocabularies/Org.OData.Core.V1.xml">
    <edmx:Include Alias="Core" Namespace="Org.OData.Core.V1" />
  </edmx:Reference>
  <edmx:Reference Uri="https://sap.github.io/odata-vocabularies/vocabularies/Common.xml">
    <edmx:Include Alias="Common" Namespace="com.sap.vocabularies.Common.v1" />
  </edmx:Reference>
  <edmx:DataServices>
    <Schema xmlns="http://docs.oasis-open.org/odata/ns/edm" Namespace="com.sap.vocabularies.Batch.v1" Alias="Batch">
      <Annotation Term="Core.Description">
        <String>Terms for advanced batch request processing</String>
      </Annotation>
      <Annotation Term="Core.Description" Qualifier="Published">
        <String>2024-08-29 Â© Copyright 2024 SAP SE. All rights reserved.</String>
      </Annotation>
      <Annotation Term="Core.Links">
        <Collection>
          <Record>
            <PropertyValue Property="rel" String="latest-version" />
            <PropertyValue Property="href" String="https://sap.github.io/odata-vocabularies/vocabularies/Batch.xml" />
          </Record>
          <Record>
            <PropertyValue Property="rel" String="alternate" />
            <PropertyValue Property="href" String="https://sap.github.io/odata-vocabularies/vocabularies/Batch.json" />
          </Record>
          <Record>
            <PropertyValue Property="rel" String="describedby" />
            <PropertyValue Property="href" String="https://github.com/sap/odata-vocabularies/blob/main/vocabularies/Batch.md" />
          </Record>
        </Collection>
      </Annotation>
      <Annotation Term="Common.Experimental" />

      <Term Name="CorrespondingContentIDs" Type="Collection(Batch.CorrespondingContentID)" Nullable="false" AppliesTo="Action">
        <Annotation Term="Common.Experimental" />
        <Annotation Term="Core.Description" String="Correspondence between `Core.ContentID` in a parameter and in the return type of an action" />
        <Annotation Term="Core.LongDescription">
          <String>If values in the action invocation are annotated with `Core.ContentID`,
          the corresponding values returned by the action are annotated with the same `Core.ContentID`
          and can thus be referenced in subsequent requests within the same batch request.</String>
        </Annotation>
      </Term>
      <ComplexType Name="CorrespondingContentID">
        <Annotation Term="Common.Experimental" />
        <Annotation Term="Core.Description" String="Establishes a correspondence between a value in a parameter and a value in the return type" />
        <Annotation Term="Core.LongDescription">
          <String>[This service](../examples/Batch.CorrespondingContentIDs-sample.xml)
contains an action annotated with
```json
"@Batch.CorrespondingContentIDs": [{
  "ParameterValue": "items",
  "ReturnedValue": "$ReturnType/Items"
}]
```
Given a sales quotation with items for coffee, sugar and paper,
the following batch request invokes the action to create a sales order for sugar and paper
and adds a 10% discount for the sugar.
```json
{"requests": [{
  "id": "1",
  "method": "post",
  "url": "SalesQuotations(68)/self.CreateSalesOrder",
  "body": {
    "items": [
      {"product": "Sugar", "@Core.ContentID": "I1"},
      {"product": "Paper"}
    ]
  }
}, {
  "id": "2",
  "dependsOn": ["1"],
  "method": "post",
  "url": "$I1/Discounts",
  "body": {
    "percent": 10
  }
}]}
```
In the response to the action invocation the sales order item for the sugar is annotated
with `"@Core.ContentID": "I1"`. The subsequent POST request can reference this item without knowing its key.</String>
        </Annotation>
        <Property Name="ParameterValue" Type="Edm.AnyPropertyPath" Nullable="false">
          <Annotation Term="Core.Description" String="Path to a value in a parameter that may be annotated with `Core.ContentID`" />
        </Property>
        <Property Name="ReturnedValue" Type="Edm.AnyPropertyPath" Nullable="false">
          <Annotation Term="Core.Description" String="Path to a value in the return type that will be annotated with the same `Core.ContentID`" />
        </Property>
      </ComplexType>

    </Schema>
  </edmx:DataServices>
</edmx:Edmx>
      